
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<style type="text/css" class="cp-pen-styles">
  h4 {
  padding: 0;
  margin: 0;
  line-height: 1.3;
  font-weight: 600;
  font-size: 11px;
  }

  p {
  padding: 0;
  margin: 0;
  line-height: 1.3;
  font-weight: 600;
  color: grey;
  font-size: 10px;
  }

  body {
  background-color: #eee;
  }

  .youtube-video {
  width: auto;
  height: 30px;
  background-color: #fff;
  margin: 0 auto;
  }

  header,
  section {
  position: fixed;
  text-align: center;
  width: 100%;
  background-color: #fff;
  }

  section {
  top: 30px;
  }

  .logo {
  /* width: 120px; */
  height: 20px;
  padding: 0px;
  }

  .scrollable {

  }

  main {
  padding: 190px 8px 10px;
  }

  .item {
    cursor: pointer;
  }

  article {
  display: flex;
  align-items: center;
  padding: 2px 0px;
  border: 2px solid white;
  border-radius: 8px;
  margin: 0 auto;
  }
  article:hover {
  border: 2px solid #ff9999;
  }

  .thumb {
  height: 40px;
  border-radius: 4px;
  padding-left: 3px;
  }

  .details {
  padding: 3px 5px;
  }
  .searchbox {
    height: 26px;
    width: 100%;
    margin-right: 2px;
    margin-left: 5px;
    font-family: 'Roboto','Noto',sans-serif;
    font-size: 14px;
    font-weight: 400;
    border-color: (204, 204, 204);
    color: #aaa;
    border-radius: 2px;
    border-width: 1px;
  }
</style>
<div class="youtube-video">
  <header style="height: 190px; display: flex;">
		<img src="https://github.com/Middi/youtube-api/blob/master/images/logo.png?raw=true" alt="" class="logo" style="padding-left: 3px;padding-right: 5px;padding-top: 3px;padding-bottom: 3px;">
    <input type="text" name="Search" value="Search" Class="searchbox">
    <!-- <button type="button" class="" name="button"></button> -->
	</header>
	<section id="video"></section>
  <div style="overflow-y: scroll">
    <main ></main>
  </div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script id="rendered-js">
  // YOU WILL NEED TO ADD YOUR OWN API KEY IN QUOTES ON LINE 5, EVEN FOR THE PREVIEW TO WORK.
  //
  // GET YOUR API HERE https://console.developers.google.com/apis/api


  // https://developers.google.com/youtube/v3/docs/playlistItems/list

  // https://console.developers.google.com/apis/api/youtube.googleapis.com/overview?project=webtut-195115&duration=PT1H

  // <iframe width="560" height="315" src="https://www.youtube.com/embed/qxWrnhZEuRU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

  // https://i.ytimg.com/vi/qxWrnhZEuRU/mqdefault.jpg


  $(document).ready(function () {

    var key = 'AIzaSyCl2XLxOUH3knKUjAWZuL9HZBZnfDBDWOQ';
    var playlistId = 'PLy37-5gQy0-55yMYVK0evD-jBCpeIN5cl';
    var URL = 'https://www.googleapis.com/youtube/v3/playlistItems';


    var options = {
      part: 'snippet',
      key: key,
      maxResults: 20,
      playlistId: playlistId };


    loadVids();

    function loadVids() {
      $.getJSON(URL, options, function (data) {
        var id = data.items[0].snippet.resourceId.videoId;
        mainVid(id);
        resultsLoop(data);
      });
    }

    function mainVid(id) {
      $('#video').html(`
  					<iframe width="100%" src="https://www.youtube.com/embed/${id}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
  				`);
    }


    function resultsLoop(data) {

      $.each(data.items, function (i, item) {

        var thumb = item.snippet.thumbnails.medium.url;
        var title = item.snippet.title;
        var desc = item.snippet.description.substring(0, 100);
        var vid = item.snippet.resourceId.videoId;


        $('main').append(`
  							<article class="item" data-key="${vid}">

  								<img src="${thumb}" alt="" class="thumb">
  								<div class="details">
  									<h4>${title}</h4>
  									<p>${desc}</p>
  								</div>

  							</article>
  						`);
      });
    }

    // CLICK EVENT
    $('main').on('click', 'article', function () {
      var id = $(this).attr('data-key');
      mainVid(id);
    });


  });
  //# sourceURL=pen.js
</script>
